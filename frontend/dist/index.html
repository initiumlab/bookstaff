<!DOCTYPE html><html lang="zh-hant"><head><meta charset="utf-8"><title>校書郎</title><style>body{padding-bottom:1000px}#container{max-width:1000px;margin:0 auto;font-family:"Hiragino Sans GB","Helvetica Neue",sans-serif;border:2px solid #333;padding:1em;position:relative}#statusBar{padding:2px}#text{border:1px solid #333;min-height:500px;margin:1em 0 0;padding:.5em}#characterBox div{display:inline-block}.suspicious{background:#8CF;font-weight:bolder;cursor:pointer;padding:0 .2em}.hintPopup{position:absolute;width:500px;border:5px solid #111;background-color:#EEE;padding:1em;line-height:2}.spanTradChar{margin-left:.1em;margin-right:.1em;cursor:pointer}.spanTradChar-chosen{border:1px solid #000;font-weight:bolder}button{font-size:1.5em;display:block;margin-top:.5em;font-weight:bolder}#clearAll{font-size:1em;font-weight:lighter;background-color:#F99}</style></head><body><div id="container"><h1 id="title">校書郎</h1><div id="statusBar"><button id="btnTraditionalize" class="btnPost">還原傳統字</button> <button id="btnSimplify" class="btnPost">简化</button></div><div id="text" contenteditable>宋神宗上榜，首先要感谢北宋感谢人民。中国皇朝的财富积累鼎峰并不在唐，而在宋。一反前朝“重农抑商”传统，宋代大兴商业、金融初现、科技猛进、城市崛起。宋史学者Ronald A. Edwards（艾德荣）统计，北宋经济巅峰时，财富超过整个欧洲，占世界GDP的25%—30%。<br>李约瑟（Joseph Needham）也曾在研究中称，与宋代同时期，欧洲出现的科学技术创新潮流主要是受到中国影响。</div><div><button id="clearAll">煩死了，清除所有標記</button> 建議使用Chrome。本軟件尚未支持Firefox。</div></div><script>var bookstaffMain=function(e,t){"use strict";function n(e,n){var a="//104.236.146.235",i=new XMLHttpRequest;i.open("POST",a,!0),i.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),i.onload=function(){function a(e){return function(n){var a,i,s,l=e.innerText,d=t.createElement("div");d.classList.add("hintPopup"),d.style.top=n.pageY+15+"px",d.style.left=n.pageX-250+"px",t.body.appendChild(d);var c=t.createElement("div");c.id="characterBox";var p,u,h=t.createElement("div"),v=t.createElement("div");for(h.id="divSimpChar",v.id="divTradChars",c.appendChild(h),c.appendChild(v),d.appendChild(c),a=0;a<o.locationWithNotes.length;a+=1)if(-1!==o.locationWithNotes[a].note.hantChars.indexOf(l)){u=o.locationWithNotes[a].note;break}for(h.innerText="簡化字："+u.hansChar+"  |  傳統字：",a=0;a<u.hantChars.split(" ").length;a+=1)s=u.hantChars.split(" ")[a],p=t.createElement("span"),p.innerText=s,p.classList.add("spanTradChar"),v.appendChild(p),p.innerText===e.innerText&&p.classList.add("spanTradChar-chosen"),p.addEventListener("click",function(e){return function(n){e.innerText=n.target.innerText;var a=t.getElementsByClassName("spanTradChar");for(i=0;i<a.length;i+=1)a[i].classList.remove("spanTradChar-chosen");n.target.classList.add("spanTradChar-chosen")}}(e));var f=t.createElement("div");f.innerText="解釋："+u.explanation,d.appendChild(f);var T=t.createElement("div");T.innerText="用例："+u.example,d.appendChild(T);var x=t.createElement("button");x.innerText="確認修改",x.id="btnConfirm",x.addEventListener("click",function(e){return function(){r.style.display="none",e.classList.remove("suspicious")}}(e)),d.appendChild(x),r&&(r.style.display="none"),n.stopPropagation(),r=d}}var s,o=JSON.parse(i.responseText),l="",d=o.locationWithNotes.map(function(e){return e.location}),c=o.tradText;for(s=0;s<c.length;s+=1)if(-1!==d.indexOf(s)){var p="suspicious-"+e[s];l+='<span class="suspicious '+p+'">'+c[s]+"</span>"}else l+=10===c[s].charCodeAt(0)?"<br>":"<span>"+c[s]+"</span>";n.innerHTML=l;var u,h=t.getElementsByClassName("suspicious");for(s=0;s<h.length;s+=1)u=h[s],u.addEventListener("click",a(u))},i.send(e)}function a(e,t){var n="//104.236.146.235",a=new XMLHttpRequest;a.open("POST",n,!0),a.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),a.onload=function(){var e=JSON.parse(a.responseText);console.log(e);var n,i="";e.locationWithNotes.map(function(e){return e.location});var r=e.simpText;for(n=0;n<r.length;n+=1)i+=10===r[n].charCodeAt(0)?"<br>":"<span>"+r[n]+"</span>";t.innerHTML=i},a.send("[[SIMP]]"+e)}var i=t.createElement("div");"string"!=typeof i.innerText&&alert("您的瀏覽器不支持校書郎目前必須的功能(innerText),請換一個瀏覽器再試.");var r=null,s=t.getElementById("text"),o=!0;s.addEventListener("click",function(e){o&&(e.target.innerHTML="",o=!1)}),s.addEventListener("paste",function(e){e.preventDefault(),s.innerText=e.clipboardData.getData("text")}),s.addEventListener("copy",function(e){e.preventDefault(),e.clipboardData.setData("text/plain",s.innerText)});var l=t.getElementById("btnTraditionalize");l.addEventListener("click",function(){o=!1,n(text.innerText,s)});var d=t.getElementById("btnSimplify");d.addEventListener("click",function(){o=!1,a(text.innerText,s)}),t.body.addEventListener("click",function(e){e.target.classList.contains("hintPopup")||null!==r&&(r.style.display="none")});var c=t.getElementById("clearAll");c.addEventListener("click",function(){var e,n,a=t.getElementsByClassName("suspicious");for(console.log(a),e=0;e<a.length;e+=1)n=a[e],n.style.backgroundColor="white",n.style.padding="0",n.style.fontWeight="inherit"})}(window,window.document);</script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
          (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-66625644-3', 'auto');
      ga('send', 'pageview');</script></body></html>